(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{2198:(e,t,s)=>{Promise.resolve().then(s.bind(s,7856))},6552:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(5453).v)(e=>({loading:!1,target:"",startLoading:t=>{e(()=>({loading:!0,target:t&&t.target?t.target:""}))},stopLoading:()=>{e(()=>({loading:!1,initLoading:!1,target:""}))}}))},7856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(5155),n=s(2115),a=s(3464),l=s(6552),i=s(9925);let{startLoading:c,stopLoading:d}=l.A.getState(),{showAlert:o,hideAlert:h}=i.A.getState(),x=a.A.create({timeout:1e4,baseURL:"https://ohnae8.mycafe24.com/api"});x.interceptors.request.use(e=>(c(),e),e=>(d(),console.log(e),Promise.reject())),x.interceptors.response.use(e=>{if(d(),200===e.status)return e;Promise.reject()},e=>{var t,s;d();let r=null==(t=e.response)?void 0:t.data;switch(null==(s=e.response)?void 0:s.status){case 401:case 403:break;case 503:o({message:r.message,buttons:[{type:"on",text:"확인",callback:()=>{h()}}]})}return Promise.reject()});let j=(e,t)=>x({url:e,data:JSON.stringify(t),method:"post",headers:{"Content-Type":"application/json"},withCredentials:!1});class u{async qna(e){return(await j("/front/qna",e||{})).data}async saveQna(e){return(await j("/front/save-qna",e||{})).data}}let p=new u;function m(){let[e,t]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async()=>{t((await p.qna({})).data||[])})()},[]),(0,r.jsxs)("div",{className:"qna-list",children:[(0,r.jsx)("div",{className:"scroll-wrapper",children:(0,r.jsxs)("table",{className:"list-table",children:[(0,r.jsxs)("colgroup",{children:[(0,r.jsx)("col",{width:"100"}),(0,r.jsx)("col",{width:"100"}),(0,r.jsx)("col",{width:"150"}),(0,r.jsx)("col",{width:"*"})]}),(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"문의번호"}),(0,r.jsx)("th",{children:"문의자명"}),(0,r.jsx)("th",{children:"문의자전화번호"}),(0,r.jsx)("th",{children:"제목"})]})}),(0,r.jsx)("tbody",{children:e.length>0?e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"tc",children:e.qnaNo}),(0,r.jsx)("td",{children:e.memberName}),(0,r.jsx)("td",{children:e.phoneNo}),(0,r.jsx)("td",{children:e.title.length>15?e.title.slice(0,15)+"…":e.title})]},e.qnaNo)):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4})})]})})]})}),(0,r.jsx)("p",{className:"text-info",children:"최근 문의내역 10개만 볼 수 있습니다."})]})}var g=s(2509);function N(e){let{showFormPopup:t,setShowFormPopup:s}=e,{showAlert:a,hideAlert:l}=(0,i.A)(),c=(0,n.useRef)(null),d={companyId:"landline",memberName:"",phoneNo:"",title:"",content:""},[o,h]=(0,n.useState)(d),[x,j]=(0,n.useState)(null);if((0,n.useEffect)(()=>{if(!t){var e;h(d),j(null),null==(e=c.current)||e.reset()}},[t]),!t)return null;let u=e=>{var t;let{name:s,value:r}=e.target;"phoneNo"===s&&(t=r,r=/^\d*$/.test(t)?t:t.replace(/\D/g,"")),h(e=>({...e,[s]:r}))},m=async e=>{var t;if(e.preventDefault(),t=o.phoneNo,!/^(010|999)(-?\d{3,4})-?\d{4}$/.test(t))return void a({message:"올바른 전화번호가 아닙니다."});if(!x)return void a({message:"로봇이 아님을 확인해주세요."});let r=await p.saveQna({...o,captcha:x});a({message:r.message,buttons:[{type:"on",text:"확인",callback:()=>{l(),r.success&&(s(!1),window.location.reload())}}]})};return(0,r.jsx)("div",{className:"qna-form-popup",children:(0,r.jsx)("div",{className:"form",children:(0,r.jsxs)("form",{id:"formQna",onSubmit:m,children:[(0,r.jsx)("table",{className:"write-table",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"문의자명"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",name:"memberName",value:o.memberName,onChange:u,required:!0,maxLength:15})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"휴대폰번호"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",name:"phoneNo",value:o.phoneNo,onChange:u,required:!0,maxLength:11})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"제목"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",name:"title",value:o.title,onChange:u,required:!0,maxLength:50})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"내용"}),(0,r.jsxs)("td",{children:[(0,r.jsx)("textarea",{name:"content",value:o.content,onChange:u,maxLength:80,required:!0,style:{height:"120px"}}),(0,r.jsx)("br",{}),o.content.length," / 80 자"]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"required",children:"로봇방지"}),(0,r.jsx)("td",{children:(0,r.jsx)(g.A,{ref:c,sitekey:"6LdtLfQrAAAAAB0hn015g6AG6oDkMR4e7RhywpMv",onChange:e=>{j(e)}})})]})]})}),(0,r.jsxs)("div",{className:"button-wrapper",children:[(0,r.jsx)("button",{type:"submit",children:"확인"}),(0,r.jsx)("button",{type:"button",onClick:()=>s(!1),children:"취소"})]})]})})})}function f(){let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!0)},[]),(0,r.jsxs)("div",{className:"qna",children:[(0,r.jsx)(N,{showFormPopup:s,setShowFormPopup:a}),(0,r.jsx)(m,{}),(0,r.jsx)("div",{className:"button-wrapper",children:(0,r.jsx)("button",{type:"button",className:"on",onClick:()=>{a(!0)},children:"문의하기"})})]})}},9925:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(5453).v)(e=>({alert:null,error:!1,showAlert:t=>{e(()=>({alert:t}))},hideAlert:()=>{e(()=>({alert:null}))},showError:()=>{e(()=>({error:!0}))},hideError:()=>{e(()=>({error:!1}))}}))}},e=>{e.O(0,[192,441,964,358],()=>e(e.s=2198)),_N_E=e.O()}]);